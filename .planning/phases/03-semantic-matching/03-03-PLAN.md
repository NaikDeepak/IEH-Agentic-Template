---
phase: 03-semantic-matching
plan: 03
type: execute
wave: 2
depends_on: [03-01]
files_modified:
  - src/pages/employer/TalentSearch.tsx
  - src/App.tsx
  - src/components/Layout.tsx
  - src/features/candidates/components/CandidateCard.tsx
autonomous: true
must_haves:
  truths:
    - "Employer can access 'Find Talent' page"
    - "Search returns candidate cards with match scores"
    - "Only 'Seeker' role users appear"
  artifacts:
    - path: "src/pages/employer/TalentSearch.tsx"
      provides: "Search UI"
    - path: "src/features/candidates/components/CandidateCard.tsx"
      provides: "Candidate display"
  key_links:
    - from: "TalentSearch.tsx"
      to: "searchCandidates"
      via: "import from lib/ai/search"
---

<objective>
Create the "Talent Search" interface for Employers to find candidates.

Purpose: Allow employers to utilize the new semantic search API to find relevant talent.
Output: A new protected route `/employer/search` with a search bar and results grid.
</objective>

<execution_context>
@/Users/deepaknaik/.claude/get-shit-done/workflows/execute-plan.md
@/Users/deepaknaik/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/03-semantic-matching/03-CONTEXT.md
@src/lib/ai/search.ts
@src/App.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Candidate Card Component</name>
  <files>src/features/candidates/components/CandidateCard.tsx</files>
  <action>
    Create a reusable `CandidateCard` component.

    Props: `candidate` (UserProfile), `matchScore?` (number).

    Display:
    - Display Name
    - Bio (truncated)
    - Skills (badges)
    - Match Score (if present) - visual indicator (Green > 80, Yellow > 50).
    - "View Profile" button (placeholder action for now).

    Styling: Use Tailwind, consistent with existing JobCard style.
  </action>
  <verify>Component exists and accepts props</verify>
  <done>CandidateCard component created</done>
</task>

<task type="auto">
  <name>Task 2: Implement Talent Search Page</name>
  <files>src/pages/employer/TalentSearch.tsx</files>
  <action>
    Create `src/pages/employer/TalentSearch.tsx`.

    State:
    - `query` (string)
    - `results` (Candidate[])
    - `loading` (boolean)

    UI:
    - Header: "Find Top Talent"
    - Search Bar: Large input, "Search" button.
    - Results Area: Grid of `CandidateCard`s.
    - Empty State: "Enter a query to find candidates..."

    Logic:
    - On submit, call `searchCandidates(query)`.
    - Handle loading and error states.
  </action>
  <verify>Page exists and imports searchCandidates</verify>
  <done>TalentSearch page implemented</done>
</task>

<task type="auto">
  <name>Task 3: Add Route and Navigation</name>
  <files>src/App.tsx, src/components/Layout.tsx</files>
  <action>
    1. Add route in `src/App.tsx`:
       - Path: `/employer/search`
       - Element: `<TalentSearch />`
       - Protection: `ProtectedLayout` with `allowedRoles={['employer']}` (if RBAC allows array, otherwise ensure employer access).

    2. Add link in `src/components/Layout.tsx` (Sidebar/Navbar):
       - Label: "Find Talent"
       - To: "/employer/search"
       - Visible only to Employers.
  </action>
  <verify>grep "/employer/search" src/App.tsx</verify>
  <done>Route accessible to employers</done>
</task>

</tasks>

<verification>
Manual verification:
Check that the route is protected.
Check that the search call uses the client library.
</verification>

<success_criteria>
- [ ] `/employer/search` route exists
- [ ] Search input triggers `searchCandidates`
- [ ] Results display with `CandidateCard`
- [ ] Navigation link visible for employers
</success_criteria>

<output>
After completion, create `.planning/phases/03-semantic-matching/03-03-SUMMARY.md`
</output>
