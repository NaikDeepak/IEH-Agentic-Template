---
phase: 04-employer-suite
plan: 03
type: execute
wave: 3
depends_on: ["04-02"]
files_modified: [src/features/applications/types.ts, src/features/applications/services/applicationService.ts, src/pages/employer/JobApplicants.tsx, src/features/applications/components/KanbanBoard.tsx]
autonomous: false
must_haves:
  truths:
    - "Employer can see all applicants for a specific job in a Kanban view"
    - "Employer can drag applicants between stages (Applied, Screening, Interview, etc.)"
    - "Applicant status persists in Firestore after drag-and-drop"
  artifacts:
    - path: "src/features/applications/services/applicationService.ts"
      provides: "Application CRUD and status updates"
    - path: "src/features/applications/components/KanbanBoard.tsx"
      provides: "Drag-and-drop pipeline UI"
  key_links:
    - from: "src/features/applications/components/KanbanBoard.tsx"
      to: "@dnd-kit/core"
      via: "DndContext"
---

<objective>
Implement the core ATS (Applicant Tracking System) functionality using a Kanban board to manage candidate progression.

Purpose: Efficiency in managing large volumes of applicants.
Output: Working Kanban pipeline for applicant management.
</objective>

<execution_context>
@/Users/deepaknaik/.claude/get-shit-done/workflows/execute-plan.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-employer-suite/04-RESEARCH.md
@.planning/phases/04-employer-suite/04-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Application Service & Schema</name>
  <files>src/features/applications/types.ts, src/features/applications/services/applicationService.ts</files>
  <action>
    Install `dnd-kit` dependencies: `npm install @dnd-kit/core @dnd-kit/sortable @dnd-kit/utilities`.
    Define `Application` interface: id, job_id, employer_id, candidate_id, status (applied|screening|interview|offer|hired|rejected), answers{}, match_score, applied_at.
    Implement `ApplicationService`:
    - `getApplicationsForJob(jobId)`
    - `updateApplicationStatus(appId, newStatus)`
    - `submitApplication(data)` (Prerequisite for Phase 5, but stub it now)
  </action>
  <verify>Dependencies are installed; Service methods correctly query/update the `applications` collection.</verify>
  <done>Backend support and dependencies for applicant tracking are ready.</done>
</task>

<task type="auto">
  <name>Task 2: Kanban Pipeline UI</name>
  <files>src/features/applications/components/KanbanBoard.tsx, src/pages/employer/JobApplicants.tsx</files>
  <action>
    Implement `KanbanBoard` with columns for each status using `@dnd-kit`.
    Implement `ApplicantCard` showing Name, Match Score, and Job Title.
    Create `JobApplicants` page to host the board for a specific `jobId`.
  </action>
  <verify>Page renders columns; cards appear in correct columns based on status.</verify>
  <done>Pipeline UI is visible and correctly mapped to data.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Kanban Drag and Drop Interaction</what-built>
  <how-to-verify>
    1. Navigate to a Job Applicants page.
    2. Attempt to drag a candidate card from 'Applied' to 'Screening'.
    3. Verify the card stays in the new column.
    4. Refresh the page and verify the status persisted.
  </how-to-verify>
  <resume-signal>approved</resume-signal>
</task>

</tasks>

<verification>
1. Create a dummy application in Firestore.
2. Visit /employer/jobs/:id/applicants.
3. Drag applicant card through stages.
4. Verify console logs and Firestore updates.
</verification>

<success_criteria>
Employers have a visual, interactive way to track and manage candidate progress through the hiring lifecycle.
</success_criteria>

<output>
After completion, create `.planning/phases/04-employer-suite/04-03-SUMMARY.md`
</output>
