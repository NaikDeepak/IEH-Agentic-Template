---
phase: 04-employer-suite
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [src/features/companies/types.ts, src/features/companies/services/companyService.ts, src/pages/employer/CompanyEditor.tsx, src/pages/CompanyProfile.tsx, src/features/jobs/services/jobService.ts]
autonomous: true
must_haves:
  truths:
    - "Employer can save and update company details (name, bio, website, video_url)"
    - "Company profile is publicly viewable by candidates and includes a job library"
    - "User profile is linked to a company document"
  artifacts:
    - path: "src/features/companies/services/companyService.ts"
      provides: "CRUD for company profiles"
    - path: "src/pages/employer/CompanyEditor.tsx"
      provides: "UI for managing branding"
  key_links:
    - from: "src/pages/employer/CompanyEditor.tsx"
      to: "src/features/companies/services/companyService.ts"
      via: "service calls"
---

<objective>
Establish the foundation for Employer Branding by creating a centralized `companies` collection and the necessary UI for employers to manage their profile.

Purpose: Professionalizes job postings and provides context to candidates.
Output: Working Company CRUD and public profile pages.
</objective>

<execution_context>
@/Users/deepaknaik/.claude/get-shit-done/workflows/execute-plan.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-employer-suite/04-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Company Schema & Service</name>
  <files>src/features/companies/types.ts, src/features/companies/services/companyService.ts</files>
  <action>
    Define the `Company` interface (id, name, logo, banner, bio, website, video_url, tech_stack, location, employer_ids[]).
    Implement `CompanyService` with methods:
    - `getCompanyById(id)`
    - `getCompanyByEmployerId(uid)`
    - `createCompany(data)`
    - `updateCompany(id, updates)`
    Ensure `employer_ids` allows multiple recruiters to manage the same company.
  </action>
  <verify>Check that file exports match the interface and service methods.</verify>
  <done>Service can successfully interact with Firestore `companies` collection.</done>
</task>

<task type="auto">
  <name>Task 2: Company Editor UI</name>
  <files>src/pages/employer/CompanyEditor.tsx, src/App.tsx</files>
  <action>
    Create a form-based editor for company details.
    Use the IEH "Brutal" UI style (black borders, mono fonts).
    Include fields for: Name, Website, Location, Tagline, Bio (textarea), and Video URL (YouTube/Vimeo).
    Add a route `/employer/company` in `App.tsx` (protected for employers).
    Automatically link the logged-in user's UID to the company's `employer_ids` on first save.
  </action>
  <verify>Navigation to /employer/company shows the form; saving updates Firestore.</verify>
  <done>Employer can save and retrieve their company branding info, including video.</done>
</task>

<task type="auto">
  <name>Task 3: Public Company Profile & Job Library</name>
  <files>src/pages/CompanyProfile.tsx, src/App.tsx, src/features/jobs/services/jobService.ts</files>
  <action>
    Create a public-facing view for the company.
    Add route `/companies/:id`.
    Display all company branding info, including an embedded video player if video_url exists.
    Implement a "Job Library" section that fetches and displays active jobs for this company using `JobService.getJobsByCompanyId`.
  </action>
  <verify>Visiting /companies/{id} displays correct data and a list of active jobs.</verify>
  <done>Branding and job library are viewable by any user (candidate or guest).</done>
</task>

</tasks>

<verification>
1. Login as Employer.
2. Navigate to /employer/company.
3. Fill details and save.
4. Verify data in Firestore `companies` collection.
5. Visit public URL /companies/{id} and verify layout.
</verification>

<success_criteria>
Employers can establish a professional identity that will eventually be linked to their job postings.
</success_criteria>

<output>
After completion, create `.planning/phases/04-employer-suite/04-01-SUMMARY.md`
</output>
