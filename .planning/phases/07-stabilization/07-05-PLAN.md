# Plan: 07-05 — Error Handling & Resilience Hardening

## Goal
Eliminate empty catch blocks, add proper loading/error UI states, and ensure graceful degradation across all services.

## Proposed Changes

### 1. Service Layer Audit
- Grep all `catch` blocks across `src/` and `functions/src/`.
- Replace any empty catches with `Sentry.captureException(error)` and user-facing error feedback.
- Add retry logic with exponential backoff for all external API calls (Gemini, Firebase Auth).

### 2. UI Error States
- Audit all data-fetching components for loading/error/empty states.
- Add `ErrorBoundary` fallback UI at route level (graceful page-level recovery).
- Add toast notifications for transient failures (network errors, rate limits).

### 3. Edge Case Handling
- Handle Firestore quota exceeded errors gracefully.
- Handle Gemini API rate-limit / 429 responses with user-facing retry prompt.
- Handle stale Firebase Auth tokens (auto-refresh on 401).

### 4. Offline Resilience
- Enable Firestore offline persistence for critical reads (job listings, user profile).
- Add offline detection banner component.

## Verification Plan
1. Grep `catch` blocks — zero empty catches remain.
2. Simulate network offline — app shows offline banner, cached data displayed.
3. Simulate API error — user sees error message, not blank screen.
