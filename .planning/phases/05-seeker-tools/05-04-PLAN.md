---
phase: 05-seeker-tools
plan: 04
type: execute
wave: 3
depends_on: [05-02]
files_modified: [src/features/seeker/services/resumeService.ts, src/features/seeker/components/ResumeAnalyzer/AnalysisDisplay.tsx]
autonomous: true

must_haves:
  truths:
    - "Gemini returns structured JSON with ATS score and missing keywords"
    - "UI displays score and improvements clearly"
  artifacts:
    - path: "src/features/seeker/services/resumeService.ts"
      provides: "AI analysis logic"
    - path: "src/features/seeker/components/ResumeAnalyzer/AnalysisDisplay.tsx"
      provides: "Feedback visualization"
  key_links:
    - from: "resumeService.ts"
      to: "@google/genai"
      via: "model.generateContent with responseSchema"
    - from: "AnalysisDisplay.tsx"
      to: "resumeService.ts"
      via: "calling analyzeResume"
---

<objective>
Implement the core AI Resume Analysis engine using Gemini 2.0 Flash.
</objective>

<execution_context>
@/Users/deepaknaik/.claude/get-shit-done/workflows/execute-plan.md
@/Users/deepaknaik/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/05-seeker-tools/05-RESEARCH.md
@.planning/phases/05-seeker-tools/05-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Implement AI Analysis Logic and Persistence</name>
  <files>src/features/seeker/services/resumeService.ts</files>
  <action>
    Integrate with Gemini API.
    Use `responseMimeType: "application/json"` and a strict schema for the analysis result.
    Analysis should include: ATS Score (0-100), Missing Keywords, Formatting Issues, and Content Suggestions.
    CRITICAL: Save the parsed resume data and ATS scores to the `users/{uid}/resumes` subcollection in Firestore to enable downstream features like Shortlisting and Skill Gaps.
  </action>
  <verify>grep "generateContent" src/features/seeker/services/resumeService.ts && grep "setDoc" src/features/seeker/services/resumeService.ts</verify>
  <done>Reliable AI analysis of resumes returning structured feedback and persisting results to Firestore.</done>
</task>

<task type="auto">
  <name>Task 2: Create Analysis Feedback UI</name>
  <files>src/features/seeker/components/ResumeAnalyzer/AnalysisDisplay.tsx</files>
  <action>
    Implement a component to display the analysis results.
    Connect the component to `resumeService.ts` to trigger analysis and display the results.
    Use a circular progress bar for the score.
    Highlight missing keywords and issues in a clean list.
  </action>
  <verify>ls src/features/seeker/components/ResumeAnalyzer/AnalysisDisplay.tsx && grep "ATS Score" src/features/seeker/components/ResumeAnalyzer/AnalysisDisplay.tsx</verify>
  <done>User can easily understand their resume's strengths and weaknesses.</done>
</task>

</tasks>

<verification>
Check for existence of service and UI components.
</verification>

<success_criteria>
Accurate, structured resume feedback delivered to the user.
</success_criteria>

<output>
After completion, create `.planning/phases/05-seeker-tools/05-04-SUMMARY.md`
</output>
