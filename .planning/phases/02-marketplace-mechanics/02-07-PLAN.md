---
phase: 02-marketplace-mechanics
plan: 07
type: execute
wave: 1
depends_on: []
files_modified:
  - src/pages/JobsPage.tsx
  - src/App.tsx
  - src/components/Header.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "User can view a list of active jobs at /jobs"
    - "Jobs are displayed using JobCard components"
    - "Status badges (Active/Passive) are visible on job cards"
    - "Navigation 'Find Jobs' links to the jobs page"
  artifacts:
    - path: "src/pages/JobsPage.tsx"
      provides: "Job listing UI with data mapping"
    - path: "src/App.tsx"
      provides: "Route for /jobs"
  key_links:
    - from: "src/pages/JobsPage.tsx"
      to: "src/features/jobs/services/jobService.ts"
      via: "getJobs()"
    - from: "src/components/Header.tsx"
      to: "/jobs"
      via: "Link or anchor tag"
---

<objective>
Implement the missing Job Listing page to expose the backend mechanics (Active System) to users.
This closes the gap where jobs were being managed but not displayed.

Purpose: Allow users to browse jobs and see the "Active/Passive" status in action.
Output: A functional /jobs route displaying cards fetched from Firestore.
</objective>

<execution_context>
@src/features/jobs/services/jobService.ts
@src/components/JobCard.tsx
@src/components/JobSearchBar.tsx
@src/features/jobs/types.ts
@src/types/index.ts
</execution_context>

<tasks>

<task type="auto">
  <name>Create JobsPage component</name>
  <files>src/pages/JobsPage.tsx</files>
  <action>
    Create a new page component that:
    1. Fetches jobs using `JobService.getJobs()` on mount
    2. Maps the raw `JobPosting` (snake_case) data to the `Job` (camelCase) interface required by `JobCard`
       - Map `created_at` -> `createdAt`
       - Map `employer_id` -> `employerId`
       - Map `salary_range` -> `salaryRange`
       - Map `type` enum values if necessary (uppercase to lowercase)
    3. Renders a layout with:
       - `Header` (imported from components)
       - `JobSearchBar` at the top (visual only for now, or basic filtering if trivial)
       - A responsive grid of `JobCard` components
    4. Handles loading and empty states

    Note: Ensure strict type safety during the mapping process.
  </action>
  <verify>
    Check if the file exists and contains `JobService.getJobs` and `JobCard`.
  </verify>
  <done>
    `src/pages/JobsPage.tsx` exists and compiles without type errors.
  </done>
</task>

<task type="auto">
  <name>Wire Routes and Navigation</name>
  <files>src/App.tsx, src/components/Header.tsx</files>
  <action>
    1. Update `src/App.tsx`:
       - Import `JobsPage`
       - Add a public route `<Route path="/jobs" element={<JobsPage />} />`
       - Update the placeholder `/admin/jobs` route to also render `<JobsPage />` (wrapped in AdminLayout if needed, or just plain for now to verify integration)

    2. Update `src/components/Header.tsx`:
       - Change the "Find Jobs" link href from `#find-jobs` to `/jobs`
       - Ensure it uses client-side routing (Link) if possible, or standard anchor tag if that's the established pattern (App uses react-router-dom, so prefer Link or navigate).
  </action>
  <verify>
    grep "path=\"/jobs\"" src/App.tsx
  </verify>
  <done>
    Route is registered and Header links to it.
  </done>
</task>

</tasks>

<verification>
Manual verification required after execution:
1. Visit /jobs
2. Confirm active jobs appear
3. Confirm status badges are visible
</verification>

<success_criteria>
- [ ] /jobs route is accessible
- [ ] Jobs from Firestore are visible
- [ ] Data types are correctly adapted between Service and UI
</success_criteria>

<output>
After completion, create `.planning/phases/02-marketplace-mechanics/02-07-SUMMARY.md`
</output>
