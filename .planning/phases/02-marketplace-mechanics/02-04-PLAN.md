---
phase: 02-marketplace-mechanics
plan: 04
type: execute
wave: 2
depends_on: [02-01]
files_modified: [src/components/StatusBadge.tsx, src/components/JobCard.tsx, src/components/admin/AdminSidebar.tsx]
autonomous: true
must_haves:
  truths:
    - "User can see if a job is Active or Passive"
    - "Admin can see status of jobs/users"
    - "Passive items are visually distinct"
  artifacts:
    - path: "src/components/StatusBadge.tsx"
      provides: "Reusable UI component for status"
---

<objective>
Implement UI indicators for the Active System.

Purpose: Make the mechanic visible to users.
Output: UI components showing status and expiration time.
</objective>

<execution_context>
@/Users/deepaknaik/.claude/get-shit-done/workflows/execute-plan.md
@/Users/deepaknaik/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/02-marketplace-mechanics/02-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create StatusBadge Component</name>
  <files>src/components/StatusBadge.tsx</files>
  <action>
    Create a reusable component `StatusBadge` that accepts `status` ('active' | 'passive') and optional `expiresAt`.

    Visuals:
    - Active: Green dot/badge.
    - Passive: Gray/Red dot/badge.
    - Tooltip (if expiresAt provided): "Expires in X days".

    Use Tailwind and Lucide icons.
  </action>
  <verify>
    File exists.
  </verify>
  <done>
    Component created.
  </done>
</task>

<task type="auto">
  <name>Task 2: Integrate into JobCard</name>
  <files>src/components/JobCard.tsx</files>
  <action>
    Update `JobCard` (if it exists, or create a placeholder/search result item) to display the `StatusBadge`.
    Use the `Job` type definition from Plan 01.
  </action>
  <verify>
    grep "StatusBadge" src/components/JobCard.tsx (or relevant file)
  </verify>
  <done>
    Job listings show status.
  </done>
</task>

<task type="auto">
  <name>Task 3: Integrate Activity Tracking Hook</name>
  <files>src/App.tsx</files>
  <action>
    Import `useActivityTracker` (or the function from Plan 01).
    Call `trackUserActivity` on app mount (in `App.tsx` or a top-level AuthProvider) if user is logged in.
    This ensures "Login = Active" rule.
  </action>
  <verify>
    grep "trackUserActivity" src/App.tsx
  </verify>
  <done>
    Login activity is tracked.
  </done>
</task>

</tasks>

<verification>
Manual visual check logic.
</verification>

<success_criteria>
- [ ] StatusBadge component exists
- [ ] JobCard shows status
- [ ] App tracks user activity on mount
</success_criteria>

<output>
After completion, create `.planning/phases/02-marketplace-mechanics/02-04-SUMMARY.md`
</output>
